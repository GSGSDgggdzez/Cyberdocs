# Linux Binary Exploitation

One of the most important aspects of a stack-based buffer overflow is to control the `instruction pointer` (`EIP`) so that we can tell it which address to jump to. 

Disable memory protection

```sh
sudo echo 0 > /proc/sys/kernel/randomize_va_space
```

Program

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void func(char *arg)
{
    char buffer[50];
    strcpy(buffer,arg);
    printf("Bienvenue %s !\n", buffer);
}

int main(int argc, char *argv[])
{
    if(argc != 2) printf("Welcome <votre prenom> \n");
    else func(argv[1]);
    return 0;
}
```

## Stack Buffer Overflows Techniques

- [Shell Code](./Stack/Shell%20Code.md)
- [Ret2Libc](./Stack/Ret2Libc.md)
- [Reverse Shell](./Stack/Reverse%20Shell.md)



Compile the program

```sh
gcc -z execstack -fno-stack-protector -m32 prog.c -o prog

file prog | tr "," "\n"
```


Check if the stack is executable

```sh
readelf -l prog
#   GNU_STACK      0x000000 0x00000000 0x00000000 0x00000 0x00000 RWE 0x4
```

Vulnerable C functions:

```c
strcpy
gets
sprintf
scanf
strcat
...
```

